<div class="popup-overlay" [ngClass]="{'show': isVisible}" (click)="closeOverlayOnOutsideClick($event)">
    <div class="popup-container">
        <div class="popup-header">
            <h2>{{ event.name }}</h2>
            <button type="button" class="close-btn" (click)="closeModal()">
                <img width="20" height="20" src="https://img.icons8.com/fluency/48/delete-sign.png" alt="delete-sign" />
            </button>
        </div>
        <div class="popup-body">
            <div class="event-banner">
                <img [src]="event.imageUrl" [alt]="event.name" />
                <div class="event-category">{{ event.category }}</div>
            </div>

            <div class="event-details">
                <div class="event-info">
                    <div class="event-date">
                        <i class="calendar-icon"></i>
                        {{ formatEventDate(event.eventDate) }}
                    </div>
                    <div class="event-venue">
                        <i class="location-icon"></i>
                        {{ event.venueName }}, {{ event.venueLocation }}
                    </div>
                </div>

                <div class="event-description">
                    <p>{{ event.description }}</p>
                </div>

                <div class="ticket-section">
                    <div class="ticket-info">
                        <span class="ticket-price">LKR {{ event.ticketPrice }}</span>
                        <span class="ticket-availability">{{ event.availableTickets }} tickets available</span>
                    </div>

                    <div class="ticket-counter">
                        <label for="ticketCount">Number of Tickets:</label>
                        <div class="counter-controls">
                            <button type="button" class="counter-btn" (click)="decrementTickets()"
                                [disabled]="ticketCount <= 1">
                                <span>âˆ’</span>
                            </button>
                            <input type="text" id="ticketCount" [formControl]="ticketCountControl" readonly>
                            <button type="button" class="counter-btn" (click)="incrementTickets()"
                                [disabled]="ticketCount >= event.availableTickets">
                                <span>+</span>
                            </button>
                        </div>
                    </div>

                    <div class="total-section">
                        <span>Total:</span>
                        <span class="total-price">LKR {{ (event.ticketPrice * ticketCount)}}</span>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="cancel-btn" (click)="closeModal()">Cancel</button>
                    <button type="button" class="login-btn" (click)="purchaseTickets()">Purchase Tickets</button>
                </div>
            </div>
        </div>
    </div>
</div>